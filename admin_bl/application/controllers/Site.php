<?phpdefined('BASEPATH') OR exit('No direct script access allowed');class Site extends MX_Controller {		public function __construct(){		parent::__construct();	}		public function index(){		$this->page->template('login_tpl');		$this->page->view();	}		public function login(){		// Get username dan password		$username = $this->input->post('username');		$pass 	  = $this->input->post('password');		$query = $this->db->query("SELECT * FROM tbl_admin where (username = '".$username."' OR email = '".$username."') AND password = MD5('".$pass."') AND deleted = 0");		if ($query->num_rows() == 1) {			//Jika row = 1 = berhasil login			//Insert ke tabel log_login_admin			foreach ($query->result_array() as $row) {				$data = array(					'admin_id' => $row['admin_id']				);				$this->db->insert('log_login_admin', $data);			}						$this->session->set_flashdata('status', 'berhasil');			redirect(base_url());			// $user = $src->row();			// $this->session->set_userdata('user', $user);			// redirect(site_url('/dashboard'));		} else {			//Jika row > 1 = gagal login			$this->session->set_flashdata('status', 'failed');			redirect(base_url());			}	}		public function logout(){		$this->session->sess_destroy();		redirect(base_url());	}	}/* End of file site.php *//* Location: .bigjill/admin_bl/application/controllers/site.php */